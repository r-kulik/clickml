{% extends "header_footer.html" %}
{% load static %}

{% block page %}


<link rel="stylesheet" type="text/css" href='{% static "css/animation.css" %}'/>
<link rel="stylesheet" type="text/css" href='{% static "css/view_results.css" %}'/>
<script type="text/javascript" src='{% static "/js/loading_results.js" %}'></script>
<script>
        window.addEventListener('load', async () => {
            createSocketAndConnect({{ context.exploit_task_id }});
        });
</script>

<div style="height: 100vh;">
    <div class="svg_animation_wrapper" id="svg_animation_wrapper">
        <svg width="727" height="404" viewBox="0 0 727 404" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M528 43V391" stroke="#79E34F" stroke-width="25" stroke-linecap="round" class="svg-elem-1"></path>
            <path d="M304 88V391" stroke="#79E34F" stroke-width="25" stroke-linecap="round" class="svg-elem-2"></path>
            <path d="M190 13L190 391" stroke="#79E34F" stroke-width="25" stroke-linecap="round" class="svg-elem-3"></path>
            <path d="M413 166.982L415 390.982" stroke="#79E34F" stroke-width="25" stroke-linecap="round" class="svg-elem-4"></path>
            <path d="M485.021 162C482.26 161.988 480.012 164.218 480 166.979C479.988 169.74 482.218 171.988 484.979 172L485.021 162ZM725.521 171.55C727.481 169.606 727.495 166.44 725.55 164.479L693.865 132.526C691.921 130.565 688.755 130.551 686.794 132.496C684.833 134.44 684.82 137.606 686.764 139.567L714.929 167.97L686.526 196.135C684.565 198.079 684.551 201.245 686.496 203.206C688.44 205.167 691.606 205.18 693.567 203.236L725.521 171.55ZM484.979 172L721.979 173L722.021 163L485.021 162L484.979 172Z" fill="#274758" class="svg-elem-5"></path>
            <line x1="483.195" y1="167.969" x2="360.969" y2="340.805" stroke="#274758" stroke-width="10" stroke-linecap="round" class="svg-elem-6"></line>
            <path d="M359.06 342.288L223 226" stroke="#274758" stroke-width="10" stroke-linecap="round" class="svg-elem-7"></path>
            <path d="M223 231C225.761 231 228 228.761 228 226C228 223.239 225.761 221 223 221V231ZM223 221L31 221V231L223 231V221Z" fill="#274758" class="svg-elem-8"></path>
            <circle cx="17" cy="226" r="17" fill="#274758" class="svg-elem-9"></circle>
        </svg>
    </div>
    <a style="display: none;" id="link_to_download"><p class="button_final">Download results</p></a>

    <div id="error_message_view" style="display: none">
    <link rel="stylesheet" type="text/css" href='{% static "css/error_message.css" %}'/>
    <div class="parent">
        <div class="error_page_content">

            <h1>Oops!</h1>

            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-emoji-frown" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="M4.285 12.433a.5.5 0 0 0 .683-.183A3.498 3.498 0 0 1 8 10.5c1.295 0 2.426.703 3.032 1.75a.5.5 0 0 0 .866-.5A4.498 4.498 0 0 0 8 9.5a4.5 4.5 0 0 0-3.898 2.25.5.5 0 0 0 .183.683zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5z"/>
            </svg>

            <p>Some Error was occurred</p>

            <h2>{{error}}</h2>

            <details id="error_log_details" style="margin-bottom: 15px;">
                <summary id="error_summary">Error log</summary>
                <div style="height: 300px;  overflow: auto; margin:10px;">
                    <p id="error_text"></p>
                </div>
            </details>
        </div>
    </div>
</div>
</div>





{% endblock %}